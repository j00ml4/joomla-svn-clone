<pat:comment>
@version $Id: php_edit.html,v 1.1 2005/08/25 14:14:14 johanjanssens Exp $
@package Mambo
@copyright (C) 2000 - 2005 Miro International Pty Ltd
@license http://www.gnu.org/copyleft/gpl.html GNU/GPL
</pat:comment>
	/**
	 * Edit
	 * @return boolean False if a error occurs
	 */
	function edit() {
		global $database, $my, $_LANG;
	
		$lists = array();

		$cid = mosGetParam( $_POST, 'cid', array(0) );
		$id = intval( $cid[0] );

		// load the row from the db table
		$row = new {CLASSNAME}( $database );
		$row->load( $id );
	
		// fail if checked out not by 'me'
		if ($row->isCheckedOut()) {
			$this->setRedirect( 'index2.php?option=com_{BASENAME}', $_LANG->_( 'errorItemCheckedOut' ) );
			return false;
		}
	
		if ($id) {
			$row->checkout( $my->id );
		} else {
			// initialise new record
			$row->published 	= 1;
			$row->ordering		= 0;
		}

		mosFS::load( '@admin_html' );
		{BASENAME}Screens::edit( $row, $lists, $params );
	}